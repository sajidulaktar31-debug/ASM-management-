<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ASM Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#f3f4f6}
.box{max-width:420px;margin:60px auto;background:#fff;padding:20px;border-radius:10px}
input,button{width:100%;padding:10px;margin:8px 0}
button{background:#2563eb;color:#fff;border:none;border-radius:6px}
.hidden{display:none}
</style>
</head>
<body>

<div id="login" class="box">
  <h2>Login</h2>
  <input id="uid" placeholder="User ID">
  <input id="pwd" type="password" placeholder="Password">
  <button onclick="doLogin()">Login</button>
  <p id="err" style="color:red"></p>
</div>

<div id="owner" class="box hidden">
  <h2>ðŸ‘‘ Owner Dashboard</h2>
  <p>Total Products: <b id="p">0</b></p>
  <p>Total Stock: <b id="s">0</b></p>
  <button onclick="logout()">Logout</button>
</div>

<div id="emp" class="box hidden">
  <h2>ðŸ‘· Employee Inventory</h2>
  <input id="rice" placeholder="Rice stock">
  <input id="oil" placeholder="Oil stock">
  <button onclick="saveInv()">Save</button>
  <button onclick="logout()">Logout</button>
</div>

<script>
const OWNER_ID="owner", OWNER_PASS="1234";
const EMP_ID="employee", EMP_PASS="1111";

const role = localStorage.getItem("role");
if(role) load(role);

function doLogin(){
  const id = uid.value.trim();
  const pw = pwd.value.trim();

  if(id===OWNER_ID && pw===OWNER_PASS){
    localStorage.setItem("role","owner");
    load("owner");
  }
  else if(id===EMP_ID && pw===EMP_PASS){
    localStorage.setItem("role","emp");
    load("emp");
  }
  else{
    err.innerText="âŒ Invalid Login";
  }
}

function load(r){
  login.classList.add("hidden");
  if(r==="owner"){
    owner.classList.remove("hidden");
    const inv = JSON.parse(localStorage.getItem("inv")||"[]");
    p.innerText = inv.length;
    s.innerText = inv.reduce((t,i)=>t+i.stock,0);
  }
  if(r==="emp"){
    emp.classList.remove("hidden");
  }
}

function saveInv(){
  const data=[
    {name:"Rice",stock:+rice.value||0},
    {name:"Oil",stock:+oil.value||0}
  ];
  localStorage.setItem("inv",JSON.stringify(data));
  alert("Inventory Saved");
}

function logout(){
  localStorage.clear();
  location.reload();
}
</script>

</body>
</html>
